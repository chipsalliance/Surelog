
<!DOCTYPE html>
<html>
<head>
<style>
body {

}
p {
font-size: 14px;
}</style>
<h3>./external/basejump_stl/bsg_mem/bsg_mem_1r1w.v Cov: 90% </h3>
<pre style="margin:0; padding:0 ">   1: // MBT 11/9/2014</pre>
<pre style="margin:0; padding:0 ">   2: //</pre>
<pre style="margin:0; padding:0 ">   3: // 1 read-port, 1 write-port ram</pre>
<pre style="margin:0; padding:0 ">   4: //</pre>
<pre style="margin:0; padding:0 ">   5: // reads are asynchronous</pre>
<pre style="margin:0; padding:0 ">   6: //</pre>
<pre style="margin:0; padding:0 ">   7: </pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">   8: module bsg_mem_1r1w #(parameter width_p=-1</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">   9:                       , parameter els_p=-1</pre>
<pre style="margin:0; padding:0 ">  10:                       , parameter read_write_same_addr_p=0</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  11:                       , parameter addr_width_lp=`BSG_SAFE_CLOG2(els_p)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  12:                       , parameter harden_p=0</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  13:                       )</pre>
<pre style="margin:0; padding:0 ">  14:    (input   w_clk_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  15:     , input w_reset_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  16: </pre>
<pre style="margin:0; padding:0 ">  17:     , input                     w_v_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  18:     , input [addr_width_lp-1:0] w_addr_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  19:     , input [width_p-1:0]       w_data_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  20: </pre>
<pre style="margin:0; padding:0 ">  21:     // currently unused</pre>
<pre style="margin:0; padding:0 ">  22:     , input                      r_v_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  23:     , input [addr_width_lp-1:0]  r_addr_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  24: </pre>
<pre style="margin:0; padding:0 ">  25:     , output logic [width_p-1:0] r_data_o</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  26:     );</pre>
<pre style="margin:0; padding:0 ">  27: </pre>
<pre style="margin:0; padding:0 ">  28:    bsg_mem_1r1w_synth</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  29:      #(.width_p(width_p)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  30:        ,.els_p(els_p)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  31:        ,.read_write_same_addr_p(read_write_same_addr_p)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  32:        ,.harden_p(harden_p)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  33:        ) synth</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  34:        (.*);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  35: </pre>
<pre style="margin:0; padding:0 ">  36:    //synopsys translate_off</pre>
<pre style="margin:0; padding:0 ">  37: </pre>
<pre style="margin:0; padding:0 ">  38:    initial</pre>
<pre id="id39" style="background-color: #FFB6C1; margin:0; padding:0 ">  39:      begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  40: 	if (read_write_same_addr_p || (width_p*els_p >= 64))</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  41:           $display("## %L: instantiating width_p=%d, els_p=%d, read_write_same_addr_p=%d, harden_p=%d (%m)"</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  42:                    ,width_p,els_p,read_write_same_addr_p,harden_p);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  43:      end</pre>
<pre style="margin:0; padding:0 ">  44: </pre>
<pre style="margin:0; padding:0 ">  45:    always_ff @(posedge w_clk_i)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  46:      if (w_v_i===1'b1)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  47:        begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  48:           assert ((w_reset_i === 'X) || (w_reset_i === 1'b1) || (w_addr_i < els_p))</pre>
<pre id="id49" style="background-color: #FF0000; margin:0; padding:0 ">  49:             else $error("Invalid address %x to %m of size %x (w_reset_i=%b, w_v_i=%b)\n", w_addr_i, els_p, w_reset_i, w_v_i);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  50: </pre>
<pre style="margin:0; padding:0 ">  51:           assert ((w_reset_i === 'X) || (w_reset_i === 1'b1) || ~(r_addr_i == w_addr_i && w_v_i && r_v_i && !read_write_same_addr_p))</pre>
<pre id="id52" style="background-color: #FF0000; margin:0; padding:0 ">  52:             else $error("%m: Attempt to read and write same address %x (w_v_i = %b, w_reset_i = %b)",w_addr_i,w_v_i,w_reset_i);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  53:        end</pre>
<pre style="margin:0; padding:0 ">  54: </pre>
<pre style="margin:0; padding:0 ">  55:    //synopsys translate_on</pre>
<pre style="margin:0; padding:0 ">  56: </pre>
<pre style="margin:0; padding:0 ">  57: endmodule</pre>
<pre style="margin:0; padding:0 ">  58: </pre>
</body>
</html>
