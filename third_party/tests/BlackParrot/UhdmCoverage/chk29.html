
<!DOCTYPE html>
<html>
<head>
<style>
body {

}
p {
font-size: 14px;
}</style>
<h3>./external/basejump_stl/bsg_mem/bsg_mem_1rw_sync_mask_write_bit.v Cov: 80% </h3>
<pre style="margin:0; padding:0 ">   1: // MBT 11/9/2014</pre>
<pre style="margin:0; padding:0 ">   2: //</pre>
<pre style="margin:0; padding:0 ">   3: // Synchronous 1-port ram.</pre>
<pre style="margin:0; padding:0 ">   4: // Only one read or one write may be done per cycle.</pre>
<pre style="margin:0; padding:0 ">   5: </pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">   6: module bsg_mem_1rw_sync_mask_write_bit #(parameter width_p=-1</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">   7: 			               , parameter els_p=-1</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">   8:                      , parameter latch_last_read_p=0</pre>
<pre style="margin:0; padding:0 ">   9:                      , parameter enable_clock_gating_p=0</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  10: 			               , parameter addr_width_lp=`BSG_SAFE_CLOG2(els_p)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  11:                      )</pre>
<pre style="margin:0; padding:0 ">  12:    (input   clk_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  13:     , input reset_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  14:     , input [width_p-1:0] data_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  15:     , input [addr_width_lp-1:0] addr_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  16:     , input v_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  17:     , input [width_p-1:0] w_mask_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  18:     , input w_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  19:     , output [width_p-1:0]  data_o</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  20:     );</pre>
<pre style="margin:0; padding:0 ">  21: </pre>
<pre style="margin:0; padding:0 ">  22:    wire clk_lo;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  23: </pre>
<pre style="margin:0; padding:0 ">  24:    if (enable_clock_gating_p)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  25:      begin</pre>
<pre style="margin:0; padding:0 ">  26:        bsg_clkgate_optional icg</pre>
<pre id="id27" style="background-color: #FFB6C1; margin:0; padding:0 ">  27:          (.clk_i( clk_i )</pre>
<pre id="id28" style="background-color: #FFB6C1; margin:0; padding:0 ">  28:          ,.en_i( v_i )</pre>
<pre id="id29" style="background-color: #FFB6C1; margin:0; padding:0 ">  29:          ,.bypass_i( 1'b0 )</pre>
<pre id="id30" style="background-color: #FFB6C1; margin:0; padding:0 ">  30:          ,.gated_clock_o( clk_lo )</pre>
<pre id="id31" style="background-color: #FFB6C1; margin:0; padding:0 ">  31:          );</pre>
<pre style="margin:0; padding:0 ">  32:      end</pre>
<pre style="margin:0; padding:0 ">  33:    else</pre>
<pre style="margin:0; padding:0 ">  34:      begin</pre>
<pre style="margin:0; padding:0 ">  35:        assign clk_lo = clk_i;</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  36:      end</pre>
<pre style="margin:0; padding:0 ">  37: </pre>
<pre style="margin:0; padding:0 ">  38:    bsg_mem_1rw_sync_mask_write_bit_synth</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  39:      #(.width_p(width_p)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  40:        ,.els_p(els_p)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  41:        ,.latch_last_read_p(latch_last_read_p)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  42:        ) synth</pre>
<pre id="id43" style="background-color: #FFB6C1; margin:0; padding:0 ">  43:        (.clk_i (clk_lo)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  44:        ,.reset_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  45:        ,.data_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  46:        ,.addr_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  47:        ,.v_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  48:        ,.w_mask_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  49:        ,.w_i</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  50:        ,.data_o</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  51:        );</pre>
<pre style="margin:0; padding:0 ">  52: </pre>
<pre style="margin:0; padding:0 ">  53: </pre>
<pre style="margin:0; padding:0 ">  54:    // synopsys translate_off</pre>
<pre style="margin:0; padding:0 ">  55: </pre>
<pre style="margin:0; padding:0 ">  56:    always_ff @(posedge clk_lo)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  57:      if (v_i === 1)</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  58:        assert ((reset_i === 'X) || (reset_i === 1'b1) || (addr_i < els_p))</pre>
<pre id="id59" style="background-color: #FF0000; margin:0; padding:0 ">  59:          else $error("Invalid address %x to %m of size %x (reset_i = %b, v_i = %b, clk_lo=%b)\n", addr_i, els_p, reset_i, v_i, clk_lo);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  60: </pre>
<pre style="margin:0; padding:0 ">  61:    initial</pre>
<pre id="id62" style="background-color: #FFB6C1; margin:0; padding:0 ">  62:      begin</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  63:         $display("## %L: instantiating width_p=%d, els_p=%d (%m)",width_p,els_p);</pre>
<pre style="background-color: #C0C0C0; margin:0; padding:0 ">  64:      end</pre>
<pre style="margin:0; padding:0 ">  65: </pre>
<pre style="margin:0; padding:0 ">  66:   // synopsys translate_on</pre>
<pre style="margin:0; padding:0 ">  67: </pre>
<pre style="margin:0; padding:0 ">  68:    </pre>
<pre style="margin:0; padding:0 ">  69: endmodule</pre>
<pre style="margin:0; padding:0 ">  70: </pre>
</body>
</html>
